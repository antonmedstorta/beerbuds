<!DOCTYPE html>
<html>
    <head>
        <!-- Meta -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <!--Firebase-->
        <script src="https://www.gstatic.com/firebasejs/3.9.0/firebase.js"></script>
        <script src="https://www.gstatic.com/firebasejs/3.9.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/3.9.0/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/3.9.0/firebase-database.js"></script>


        <link rel="stylesheet" type="text/css" href="css/style.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.amber-indigo.min.css">

        <!-- Scripts -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
        <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
        <script src="https://npmcdn.com/tether@1.2.4/dist/js/tether.min.js"></script>

        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
        
        <!-- Fonts -->
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/font-awesome-4.7.0/css/font-awesome.min.css">
    </head>
    <body>
        <!--..............................................SIDA START......................................-->
        <div class="container">
            <div id="flex" class="col-12" style="margin-top:20px;">
                <h1><i class="fa fa-beer fa-2x"></i> BeerBuds</h1>
            </div>
            <main class="mdl-layout__content">
                <div id="page1">
              <div id="showMessages"></div>


            <!--Login-->
            <div class="email-passSignIn">
                <input id=txtEmail class="mdl-textfield__input" type = "email" placeholder = "Email">
                <input id="txtPassword" class="mdl-textfield__input" type = "password" placeholder ="Password"></br>
                <button id="btnLogin" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">Login</button>
                <button id="btnSignUp" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">Sign Up</button>
                <div class = "googleSignIn" id = "googleSignIn" style="display:block"></br>
                    <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" onclick="createID();googleSignin()">Sign In With Google</button>
                </div>
                <button id="btnLogout" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" style="display:none">Log out</button>
                <button id="btnLogout" class="btn btn-action" style="display:none">Log out</button>
            </div>


            <!--ProfilePage-->
            <div>

            </div>
        </div>
    


        <!--Feed of beerguys-->
            <div id="page2" style="display: none">
                <div class="container" id="page1" style="font-family: 'Avenir Next';">
                    <div class="col-12" style="margin-top: 40px; margin-bottom: 40px">
                        <h2 style="text-align: center;">PEOPLE HUNGRY FOR BEER</h2>
                    </div>

                    <div class="col-12">


                    <!-- Följande HTML ska genereras dynamiskt av datan som folk sänder -->
                        <div class="row" id="flex" style="border: 1px solid black; border-radius: 5px;">
                            <div class="col-4">
                            <img src="https://scontent-arn2-1.xx.fbcdn.net/v/t31.0-8/15128952_10207573719443039_6551904099240725029_o.jpg?oh=3fb5df0585953f3bb5f5b8b42d67460a&oe=59B936A6" id="profilepic" width="100px" height="100px"></img>
                            </div>
                            <div class="col-8" style="font-size: 10pt">
                            
                            <b>Anton</b> wants to get his drink on <i></br>near Östermalmstorg</i>
                            </br></br>
                            Swipe right to start chatting >
                            </div>
                        </div>

                        <div class="row" id="flex" style="border: 1px solid black; border-radius: 5px;">
                            <div class="col-4">
                                <img src="https://scontent-arn2-1.xx.fbcdn.net/v/t1.0-9/15078592_1358866397459381_9081129757154095336_n.jpg?oh=988e54abe0c7e4ae624ea1bbb7839c3c&oe=5983B508" id="profilepic" width="100px" height="100px"></img>
                            </div>
                            <div class="col-8" style="font-size: 10pt">
                                <b>Felix</b> wants to get his drink on <i></br>near Gamla Stan</i>
                                </br></br>
                                Swipe right to start chatting >
                            </div>
                        </div>

                        <div class="row" id="flex" style="border: 1px solid black; border-radius: 5px;">
                            <div class="col-4">
                            <img src="https://scontent-arn2-1.xx.fbcdn.net/v/t1.0-9/18199189_1814366315241996_5354179833089832750_n.jpg?oh=538474762f5fdc890bb950a61c4159a6&oe=598B767C" id="profilepic" width="100px" height="100px"></img>
                            </div>

                            <div class="col-8" style="font-size: 10pt">
                            
                            <b>Erik</b> wants to get his drink on <i></br>near Södermalm</i>
                            </br></br>
                            Swipe right to start chatting >
                            </div>
                        </div>


                        <div class="row" id="flex" style="border: 1px solid black; border-radius: 5px;">
                            <div class="col-4">
                            <img src="https://scontent-arn2-1.xx.fbcdn.net/v/t1.0-9/625654_10200719099717207_1321671622_n.jpg?oh=42c3d34228e1df9ecdcb674f134a9278&oe=598908DE" id="profilepic" width="100px" height="100px"></img>
                            </div>
                            <div class="col-8" style="font-size: 10pt">
                            
                            <b>Gustav</b> wants to get his drink on <i></br>near Gamla Stan</i>
                            </br></br>
                            Swipe right to start chatting >
                            </div>
                        </div>
                    </div>
     
                </div>

            </div>
            <div id="page3" style="display: none">
              <h1>Page 3</h1>

             </div>

            <div id="page4" style="display: none">
                <h1>Page 4</h1>
                <div class="container" id="page1" style="font-family: 'Avenir Next';">


                    <!--Testing-->
                    <pre id="object">
                    </pre>
                    <ul id="list"></ul>

                    <!--.storage(). not working-->
                     <progress value="0" max="100" id="uploader">0%</progress>
                    <input type="file" value="upload" id="fileButton"/>

                    <h1>Namn: </h1><h2 id= "Name"></h2>     
                    <h1>Öl: </h1><h2 id="Beers"></h2>  

                    <p>funkar nu, ändra id:t att kolla i firebase.js för test</p>
                    <button id = "testforUUID" onclick ="createID()">TestforUUID</button>

                    <!--Input name-->
                    <input id = "nameInput" class="mdl-textfield__input" placeholder = "Name"/> <button id = "submitNameBtn" class="btn btn-action" style="display:block"  onclick="submitNameClick()">Submit Name</button>

                    <!--Input beer preference-->
                    <input id = "beerInput" class="mdl-textfield__input" placeholder = "Beers"/>
                    <button id = "submitBeerBtn" class="btn btn-action" style="display:block"  onclick="submitBeerClick()">Submit Beers</button><br/><p>test</p>


                </div>
            </div>

          <div id="page5" style="display: none">
              <h1>Settings</h1>
                      <ul class="demo-list-control mdl-list">
                      <li class="mdl-list__item">
                        <span class="mdl-list__item-primary-content">
                          Setting 0
                        </span>
                        <span class="mdl-list__item-secondary-action">
                            <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="list-switch-0">
                                <input type="checkbox" id="list-switch-0" class="mdl-switch__input" checked />
                            </label>
                        </span>
                      </li>
                      <li class="mdl-list__item">
                        <span class="mdl-list__item-primary-content">
                          Setting 1
                        </span>
                        <span class="mdl-list__item-secondary-action">
                            <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="list-switch-1">
                                <input type="checkbox" id="list-switch-1" class="mdl-switch__input" checked />
                            </label>
                        </span>
                      </li>
                      <li class="mdl-list__item">
                        <span class="mdl-list__item-primary-content">
                          Setting 2
                        </span>
                        <span class="mdl-list__item-secondary-action">
                          <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="list-switch-2">
                            <input type="checkbox" id="list-switch-2" class="mdl-switch__input" checked />
                          </label>
                        </span>
                      </li>
                    </ul>
          </div>


    </div>


    <div id="navbar">
        <div class="col-2">
            <a class="navBtn" targetpage="page1"><i class="fa fa-home fa-2x"></i></a>
        </div>
        <div class="col-2">
            <a class="navBtn" targetpage="page4"><i class="fa fa-user fa-2x"></i></a>
        </div>
        <div class="col-2">
            <a class="navBtn" targetpage="page2"><i class="fa fa-feed fa-2x"></i></a>
        </div>
        <div class="col-2">
            <a class="navBtn" targetpage="page3"><i class="fa fa-map fa-2x"></i></a>
        </div>
        <div class="col-2">
            <a class="navBtn" targetpage="page5"><i class="fa fa-cog fa-2x"></i></a>
        </div>
    </div>

      


               
                     
            </main>
        </div>    
        <!--..............................................SIDA SLUT.................................-->
        <script src="js/firebase.js"></script>
        <script src="js/main.js"></script>    

        <script src="js/firebase.js"></script>
        <script src="js/main.js"></script> 

        <script>
        var map;
        var marker = document.getElementById("marker");
        marker.index = 1;
        var markers = [];
        var beer = document.getElementById('beer');

        $(document).ready(function() {
            $('#js-show-map').click(function(event) {
                  /* Act on the event */
                  console.log('jsshowmap');
                  google.maps.event.trigger(map, 'resize');
            });
        });
          
        beer.addEventListener('click',function(){
            var marker = new google.maps.Marker({
              position: map.getCenter(),
              map: map,
              draggable: true,
              animation: google.maps.Animation.DROP
            });
            markers.push(marker);
            marker.addListener('dragend',function(){
              console.log('Here we can update the position');
              console.log(marker.position);
            });
        });

        function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: setCenter(),
          zoom: 17,
          disableDefaultUI: true
          });
            map.controls[google.maps.ControlPosition.LEFT_TOP].push(marker);

        var userMarker = new google.maps.Marker({
            position: setCenter(),
            map: map,
            icon: 'http://www.robotwoods.com/dev/misc/bluecircle.png'
        });
        }

        function deleteMarkers() {
        for (var i = 0; i < markers.length; i++) {
          markers[i].setMap(null);
        }
        markers = [];
        }

        function setCenter(){
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var pos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };
            map.setCenter(pos);
          }, function() {
            handleLocationError(true, map.getCenter());
          });
        } else {
          // Browser doesn't support Geolocation
          handleLocationError(false, map.getCenter());
        }

        function handleLocationError(browserHasGeolocation, pos) {
            alert('no geolocation');
        }
        }
        </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCn2-5FWdpedj1ktxvGM76HqCySwBUPOpI&callback=initMap"
    async defer></script>   


    </body>   
</html>
